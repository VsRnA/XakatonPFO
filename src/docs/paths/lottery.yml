v1.createLottery:
  summary: Создание новой лотереи
  description: Создает новую лотерею с загрузкой SVG изображения (только для администраторов)
  tags:
    - Lottery
  security:
    - JWTToken: []
  requestBody:
    content:
      multipart/form-data:
        schema:
          $ref: '../components/schemas/lottery.yml#/CreateLotteryRequest'
  responses:
    201:
      $ref: '../components/responses/lottery.yml#/LotteryCreated'
    400:
      $ref: '../components/responses/errors.yml#/BadRequest'
    401:
      $ref: '../components/responses/errors.yml#/Unauthorized'
    403:
      $ref: '../components/responses/errors.yml#/Forbidden'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'

v1.getLottery:
  summary: Получение лотереи по ID
  description: Возвращает информацию о конкретной лотерее
  tags:
    - Lottery
  security:
    - JWTToken: []
  parameters:
    - name: id
      in: path
      required: true
      description: ID лотереи
      schema:
        type: integer
        example: 1
  responses:
    200:
      description: Лотерея успешно получена
      content:
        application/json:
          schema:
            $ref: '../components/schemas/lottery.yml#/LotteryWithImage'
    400:
      $ref: '../components/responses/errors.yml#/BadRequest'
    404:
      $ref: '../components/responses/errors.yml#/NotFound'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'

v1.listLotteries:
  summary: Список всех лотерей
  description: Возвращает список всех лотерей с поддержкой фильтрации и пагинации
  tags:
    - Lottery
  security:
    - JWTToken: []
  parameters:
    - $ref: '../components/parameters/lottery.yml#/PageQuery'
    - $ref: '../components/parameters/lottery.yml#/LimitQuery'
    - $ref: '../components/parameters/lottery.yml#/SearchQuery'
    - $ref: '../components/parameters/lottery.yml#/StatusQuery'
    - $ref: '../components/parameters/lottery.yml#/OrganizatorIdQuery'
  responses:
    200:
      $ref: '../components/responses/lottery.yml#/LotteriesList'
    400:
      $ref: '../components/responses/errors.yml#/BadRequest'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'

v1.registerInLottery:
  summary: Регистрация в лотерее
  description: Регистрирует пользователя в лотерее с загрузкой изображения
  tags:
    - Lottery
  security:
    - JWTToken: []
  requestBody:
    required: true
    content:
      multipart/form-data:
        schema:
          $ref: '../components/schemas/lottery.yml#/RegisterInLotteryRequest'
  responses:
    201:
      $ref: '../components/responses/lottery.yml#/LotteryRegistrationSuccess'
    400:
      $ref: '../components/responses/errors.yml#/BadRequest'
    401:
      $ref: '../components/responses/errors.yml#/Unauthorized'
    404:
      $ref: '../components/responses/errors.yml#/NotFound'
    409:
      $ref: '../components/responses/errors.yml#/Conflict'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'

v1.calculateLotteryWinners:
  summary: Подведение итогов лотереи
  description: Вычисляет результаты лотереи и определяет победителей (только для администраторов)
  tags:
    - Lottery
  security:
    - JWTToken: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - lotteryId
          properties:
            lotteryId:
              type: integer
              description: ID лотереи для расчёта результатов
              example: 1
  responses:
    200:
      $ref: '../components/responses/lottery.yml#/LotteryCalculationSuccess'
    400:
      $ref: '../components/responses/errors.yml#/BadRequest'
    401:
      $ref: '../components/responses/errors.yml#/Unauthorized'
    403:
      $ref: '../components/responses/errors.yml#/Forbidden'
    404:
      $ref: '../components/responses/errors.yml#/NotFound'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'

v1.getUserLotteryResults:
  summary: Получение результатов лотереи для пользователя
  description: Возвращает результаты участия пользователя в лотерее после подведения итогов
  tags:
    - Lottery
  security:
    - JWTToken: []
  parameters:
    - $ref: '../components/parameters/lottery.yml#/LotteryIdPathParam'
  responses:
    200:
      $ref: '../components/responses/lottery.yml#/UserLotteryResultsSuccess'
    401:
      $ref: '../components/responses/errors.yml#/Unauthorized'
    403:
      $ref: '../components/responses/errors.yml#/Forbidden'
    404:
      $ref: '../components/responses/errors.yml#/NotFound'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'