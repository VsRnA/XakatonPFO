v1.createLottery:
  summary: Создание новой лотереи
  description: Создает новую лотерею с загрузкой SVG изображения (только для администраторов)
  tags:
    - Lottery
  security:
    - JWTToken: []
  requestBody:
    content:
      multipart/form-data:
        schema:
          type: object
          required:
            - name
            - startAt
            - endAt
            - amount
          properties:
            file:
              type: string
              format: binary
              description: SVG изображение лотереи
            name:
              type: string
              description: Название лотереи
              example: "Новогодний розыгрыш 2025"
            description:
              type: string
              description: Описание лотереи
              example: "Разыгрываем крутые призы к Новому году"
            startAt:
              type: string
              format: date-time
              description: Дата и время начала лотереи
              example: "2025-12-01T00:00:00Z"
            endAt:
              type: string
              format: date-time
              description: Дата и время окончания лотереи
              example: "2025-12-31T23:59:59Z"
            barrelCount:
              type: number
              description: Общее количество бочек в лотерее
            barrelLimit:
              type: number
              description: Лимит бочек на одного участника
              amount:
                type: integer
                example: 7000000
  responses:
    201:
      description: Лотерея успешно создана
      content:
        application/json:
          schema:
            type: object
            properties:
              id:
                type: integer
                example: 1
              name:
                type: string
                example: "Новогодний розыгрыш 2025"
              description:
                type: string
                example: "Разыгрываем крутые призы к Новому году"
              attachmentGuid:
                type: string
                description: S3 ключ изображения
                example: "lotteries/1634567890123-a1b2c3d4e5f6.svg"
              startAt:
                type: string
                format: date-time
                example: "2025-12-01T00:00:00Z"
              endAt:
                type: string
                format: date-time
                example: "2025-12-31T23:59:59Z"
              amount:
                type: integer
                example: 7000000
              organizator:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                  email:
                    type: string
                    example: "admin@example.com"
                  firstName:
                    type: string
                    example: "Иван"
                  lastName:
                    type: string
                    example: "Иванов"
              metadata:
                type: object
                properties:
                  barrelCount:
                    type: integer
                    example: 90
                  barrelLimit:
                    type: integer
                    example: 10
                nullable: true
              status:
                type: string
                enum: [draft, inProgress, finished]
                example: "draft"
              createdAt:
                type: string
                format: date-time
                example: "2025-10-22T12:00:00.000Z"
    400:
      $ref: '../components/responses/errors.yml#/BadRequest'
    401:
      $ref: '../components/responses/errors.yml#/Unauthorized'
    403:
      $ref: '../components/responses/errors.yml#/Forbidden'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'

v1.getLotteryImage:
  summary: Получение URL изображения лотереи
  description: Возвращает подписанный URL для доступа к изображению лотереи из S3
  tags:
    - Lottery
  security:
    - JWTToken: []
  parameters:
    - name: id
      in: path
      required: true
      description: ID лотереи
      schema:
        type: integer
        example: 1
  responses:
    200:
      description: URL изображения успешно получен
      content:
        application/json:
          schema:
            type: object
            properties:
              attachmentGuid:
                type: string
                description: S3 ключ изображения
                example: "lotteries/1634567890123-a1b2c3d4e5f6.svg"
              url:
                type: string
                description: Подписанный URL для доступа к изображению
                example: "https://bucket.s3.region.amazonaws.com/lotteries/1634567890123-a1b2c3d4e5f6.svg?X-Amz-Algorithm=..."
              expiresIn:
                type: integer
                description: Время действия URL в секундах
                example: 3600
    404:
      $ref: '../components/responses/errors.yml#/NotFound'
    500:
      $ref: '../components/responses/errors.yml#/InternalError'