LotteryCreated:
  description: Лотерея успешно создана
  content:
    application/json:
      schema:
        $ref: '../schemas/lottery.yml#/Lottery'

LotteryImageUrl:
  description: URL изображения успешно получен
  content:
    application/json:
      schema:
        $ref: '../schemas/lottery.yml#/LotteryImage'

LotteriesList:
  description: Список лотерей успешно получен
  content:
    application/json:
      schema:
        type: object
        properties:
          data:
            type: array
            items:
              $ref: '../schemas/lottery.yml#/LotteryWithImage'
          pagination:
            $ref: '../schemas/common.yml#/Pagination'

LotteryRegistrationSuccess:
  description: Пользователь успешно зарегистрирован в лотерее
  content:
    application/json:
      schema:
        $ref: '../schemas/lottery.yml#/LotteryRegistrationResponse'

LotteryCalculationSuccess:
  description: Результаты лотереи успешно рассчитаны
  content:
    application/json:
      schema:
        $ref: '../schemas/lottery.yml#/LotteryCalculationResponse'

UserLotteryResultsSuccess:
  description: Результаты пользователя успешно получены
  content:
    application/json:
      schema:
        type: object
        properties:
          lottery:
            type: object
            properties:
              id:
                type: integer
                example: 1
              name:
                type: string
                example: "Новогодний розыгрыш 2025"
              status:
                type: string
                example: "Calculated"
              winningBarrels:
                type: array
                items:
                  type: integer
                example: [3, 12, 23, 34, 45, 56, 67, 71, 78, 82, 85, 87, 88, 89, 90]
              totalParticipants:
                type: integer
                example: 150
              winnersCount:
                type: integer
                example: 15
          userResult:
            type: object
            properties:
              userId:
                type: integer
                example: 42
              placement:
                type: integer
                example: 1
              isWinner:
                type: boolean
                example: true
              playerBarrels:
                type: array
                items:
                  type: integer
                example: [5, 12, 23, 45, 67, 88]
              matchCount:
                type: integer
                example: 5
              entropy:
                type: string
                example: "d48d7a91c17feac70776cc96112ca2ea178a0e0696dc5667190681d50121d112"
          topParticipants:
            type: array
            items:
              type: object
              properties:
                userId:
                  type: integer
                  example: 15
                placement:
                  type: integer
                  example: 1
                matchCount:
                  type: integer
                  example: 5
                isWinner:
                  type: boolean
                  example: true
          calculation:
            type: object
            nullable: true
            description: "Данные расчёта для верификации"
            properties:
              secretSeed:
                type: string
                example: "a3f5e8c9d4e1f0a6b5c8d7e3f2a1b9c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0"
              seedHash:
                type: string
                example: "b7f3a2e9c8d4f1a0e6b5c9d7e3f2a1b0c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9"
              drandRandomness:
                type: string
                example: "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92"
              drandRound:
                type: integer
                example: 5000000
              finalSeed:
                type: string
                example: "e9f2a3b8c7d6e5f4a9b0c1d2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2"
              winningBarrels:
                type: array
                items:
                  type: integer
                example: [3, 12, 23, 34, 45, 56, 67, 71, 78, 82, 85, 87, 88, 89, 90]
              totalParticipants:
                type: integer
                example: 150
              barrelLimit:
                type: integer
                example: 90
              barrelCount:
                type: integer
                example: 15
              playerEntropies:
                type: array
                items:
                  type: string
                example: 
                  - "d48d7a91c17feac70776cc96112ca2ea178a0e0696dc5667190681d50121d112"
                  - "c4d8e2f1a9b3e5f7a0b2c4d6e8f1a3b5c7d9e0f2a4b6c8d0e2f4a6b8c0d2e4f6"
          audit:
            type: object
            nullable: true
            description: "Данные для аудита и верификации"
            properties:
              verification_url:
                type: string
                example: "/api/lottery/v1/calculate-verification"
              can_verify:
                type: boolean
                example: true
              verification_data:
                type: object
                description: "Готовые данные для вставки в калькулятор"
                properties:
                  lotteryId:
                    type: integer
                    example: 1
                  seed:
                    type: string
                    example: "a3f5e8c9d4e1f0a6b5c8d7e3f2a1b9c4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0"
                  drandRandomness:
                    type: string
                    example: "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92"
                  playerEntropies:
                    type: array
                    items:
                      type: string
                    example: ["hash1", "hash2", "hash3"]
                  barrelLimit:
                    type: integer
                    example: 90
                  barrelCount:
                    type: integer
                    example: 15